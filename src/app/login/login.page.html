<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>

        <ion-title>Login</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content padding class="animated fadeIn login auth-page">
    <div class="wrapper">
        <div class="login-content">

            <!-- Logo -->
            <div padding-horizontal text-center class="animated fadeInDown">
                <div class="logo"></div>
                <h2 ion-text class="text-primary">
                    <strong>RecklessDriver</strong>.co.nz
                </h2>
                <p>We don't want spam, scam or fake report. Please login to report. We won't disclose your information to anyone.</p>
            </div>

            <form class="list-form" (ngSubmit)="login()" [formGroup]="loginForm">
                <ion-item [ngClass]="{ invalid: loginForm.get('email').hasError('*', ['touched', 'dirty']) }">
                    <ion-label position="floating">
                        <ion-icon name="mail" item-start class="text-primary"></ion-icon>
                        Email
                    </ion-label>
                    <ion-input type="email" formControlName="email"></ion-input>
                </ion-item>

                <div *ngIf="loginForm.get('email').hasError('required') && loginForm.get('email').touched">
                    Email is required
                </div>
                <div *ngIf="loginForm.get('email').hasError('minlength') && loginForm.get('email').dirty">
                    Must be a valid email address
                </div>

                <ion-item [ngClass]="{ invalid: loginForm.get('password').hasError('*', ['touched', 'dirty']) }">
                    <ion-label position="floating">
                        <ion-icon name="lock" item-start class="text-primary"></ion-icon>
                        Password
                    </ion-label>
                    <ion-input type="password" formControlName="password"></ion-input>
                </ion-item>

                <div *ngIf="loginForm.get('password').hasError('required') && loginForm.get('password').touched">
                    Password is required
                </div>
                <div *ngIf="loginForm.get('password').hasError('minlength') && loginForm.get('password').dirty">
                    Password must be at least 6 characters
                </div>

                <ion-item [ngClass]="{ invalid: loginForm.get('terms').hasError('*', ['touched', 'dirty']) }">

                    <ion-checkbox formControlName="terms"></ion-checkbox>
                    <p style="margin-left: 10px">
                        I agree with the Terms and Conditions below
                    </p>
                </ion-item>

                <div class="form-error">{{loginError}}</div>

                <ion-row responsive-sm>
                    <ion-col>
                        <ion-button type="submit" expand="block" [disabled]="!loginForm.valid" angularticsAction="login" angularticsValue="password">Login</ion-button>
                    </ion-col>
                    <ion-col>
                        <ion-button (click)="onSignup()" color="light" expand="block" angularticsAction="login" angularticsValue="signup">Signup</ion-button>
                    </ion-col>
                </ion-row>

                <ion-row responsive-sm>
                    <ion-col>
                        <ion-button (click)="loginWithGoogle()" color="google" expand="block"><ion-icon slot="start" name="logo-google" angularticsAction="login" angularticsValue="google"></ion-icon> Log in with Google</ion-button>
                    </ion-col>
                    <ion-col>
                        <ion-button (click)="loginWithFacebook()" color="facebook" expand="block"><ion-icon slot="start" name="logo-facebook" angularticsAction="login" angularticsValue="facebook"></ion-icon> Log in with Facebook</ion-button>
                    </ion-col>
                </ion-row>

                
                <ion-row responsive-sm>
                    <ion-col>
                        <ion-button (click)="loginWithPhone()" color="secondary" expand="block" angularticsAction="login" angularticsValue="sms"><ion-icon slot="start" name="text"></ion-icon> Log in by SMS</ion-button>
                    </ion-col>
                </ion-row>

                <ion-row responsive-sm>
                    <ion-col>
                        <ion-button size="small" color="light" expand="block" (click)="openTerms()">Terms and Conditions</ion-button>
                    </ion-col>
                    <ion-col>
                        <ion-button size="small" color="light" expand="block" (click)="openAbout()">About</ion-button>
                    </ion-col>
                </ion-row>

                <!--
    <ion-list>

        <button ion-button icon-left block clear (click)="loginWithGoogle()">
            <ion-icon name="logo-google"></ion-icon>
            Log in with Google
        </button>

        <button ion-button icon-left block clear (click)="signup()">
            <ion-icon name="person-add"></ion-icon>
            Sign up
        </button>
    </ion-list>
    -->
            </form>
        </div>
    </div>
</ion-content>
